import{j as e}from"./vendor-animation-CJtHBrp0.js";import{r as s}from"./vendor-react-BWWlGG6F.js";const a=e=>e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),r={materiasPrimas:0,embalagens:0,maoObraDireta:0,quantidadeProduzida:1,energia:0,gas:0,agua:0,aluguel:0,depreciacao:0,producaoMensal:100,salarios:0,marketing:0,impostos:0,delivery:0,servicos:0,perdas:5,precoVenda:0,margemDesejada:30},d=()=>{const[d,i]=s.useState(r),l=["materiasPrimas","embalagens","maoObraDireta","energia","gas","agua","aluguel","depreciacao","salarios","marketing","impostos","delivery","servicos","precoVenda"],t=e=>{const{id:s,value:a}=e.target;if(l.includes(s)){let e=a.replace(/\D/g,""),r=e?parseFloat((parseInt(e)/100).toFixed(2)):"";i(e=>({...e,[s]:r}))}else i(e=>({...e,[s]:""===a?"":parseFloat(a)}))},o=(d.materiasPrimas+d.embalagens+d.maoObraDireta)/(d.quantidadeProduzida||1),n=d.energia+d.gas+d.agua+d.aluguel+d.depreciacao,m=n/(d.producaoMensal||1),c=d.salarios+d.marketing+d.impostos+d.delivery+d.servicos,x=c/(d.producaoMensal||1),u=o+m+x,p=u*(d.perdas/100),b=u+p,g=d.precoVenda-o,h=d.precoVenda>0?(d.precoVenda-b)/d.precoVenda*100:0,j=b>0?(d.precoVenda-b)/b*100:0,N=n+c,v=g>0?Math.ceil(N/g):0,f=b*(1+d.margemDesejada/100),y=[];h<20&&y.push("⚠️ Margem muito baixa! Revise seus custos ou aumente o preço."),j<50&&y.push("📈 Considere aumentar seu markup para pelo menos 50-100%."),v>500&&y.push("🎯 Ponto de equilíbrio alto. Foque em reduzir custos fixos."),d.precoVenda<1.3*b&&y.push("💰 Preço muito próximo do custo. Recomendo margem mínima de 30%."),0===y.length&&(y.push("✅ Seus indicadores estão em níveis saudáveis!"),y.push("🚀 Continue monitorando e otimizando seus processos."));const C=e=>"margem"===e?h<20?"danger":h<30?"warning":"success":j<50?"danger":j<100?"warning":"success";return e.jsx("section",{className:"w-full py-12 px-2 md:py-20 bg-[var(--color-primary-100)]",children:e.jsxs("div",{className:"max-w-5xl mx-auto rounded-2xl shadow-2xl overflow-hidden bg-white",children:[e.jsxs("div",{className:"bg-gradient-to-r from-[#CC8A3A] to-[#E17055] text-white text-center py-8 px-4",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 font-kumbh",children:"🧁 Calculadora de Margem de Lucro"}),e.jsx("p",{className:"opacity-90 text-lg",children:"Calcule todos os custos e indicadores do seu negócio de confeitaria"})]}),e.jsxs("div",{className:"grid md:grid-cols-2",children:[e.jsxs("div",{className:"bg-[#F5E9DC] p-6 md:p-8 border-r border-[#e9ecef]",children:[e.jsx("h2",{className:"text-xl font-bold text-[#CC8A3A] mb-4 border-b-4 border-[#E17055] pb-2",children:"Dados do Produto"}),e.jsxs("div",{className:"bg-white rounded-xl shadow mb-4 p-4",children:[e.jsx("div",{className:"font-semibold text-[#CC8A3A] mb-2 flex items-center gap-2",children:"📊 Custos Diretos"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Matérias-primas"}),e.jsx("input",{type:"text",id:"materiasPrimas",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.materiasPrimas?a(Number(d.materiasPrimas)):"",onChange:t})]}),e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Embalagens"}),e.jsx("input",{type:"text",id:"embalagens",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.embalagens?a(Number(d.embalagens)):"",onChange:t})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Mão de obra direta (unidade)"}),e.jsx("input",{type:"text",id:"maoObraDireta",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.maoObraDireta?a(Number(d.maoObraDireta)):"",onChange:t})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Quantidade produzida"}),e.jsx("input",{type:"number",id:"quantidadeProduzida",step:"1",min:"1",className:"py-2 border-2 border-[#e1e5e9] rounded-md",value:d.quantidadeProduzida,onChange:t})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow mb-4 p-4",children:[e.jsx("div",{className:"font-semibold text-[#CC8A3A] mb-2 flex items-center gap-2",children:"📊 Custos Indiretos (Mensal)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Energia elétrica"}),e.jsx("input",{type:"text",id:"energia",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.energia?a(Number(d.energia)):"",onChange:t})]}),e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Gás"}),e.jsx("input",{type:"text",id:"gas",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.gas?a(Number(d.gas)):"",onChange:t})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Água"}),e.jsx("input",{type:"text",id:"agua",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.agua?a(Number(d.agua)):"",onChange:t})]}),e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Aluguel (proporcional)"}),e.jsx("input",{type:"text",id:"aluguel",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.aluguel?a(Number(d.aluguel)):"",onChange:t})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Depreciação equipamentos"}),e.jsx("input",{type:"text",id:"depreciacao",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.depreciacao?a(Number(d.depreciacao)):"",onChange:t})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Produção mensal (unidades)"}),e.jsx("input",{type:"number",id:"producaoMensal",step:"1",min:"1",className:"py-2 border-2 border-[#e1e5e9] rounded-md",value:d.producaoMensal,onChange:t})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow mb-4 p-4",children:[e.jsx("div",{className:"font-semibold text-[#CC8A3A] mb-2 flex items-center gap-2",children:"📊 Custos Administrativos (Mensal)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Salários + encargos"}),e.jsx("input",{type:"text",id:"salarios",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.salarios?a(Number(d.salarios)):"",onChange:t})]}),e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Marketing"}),e.jsx("input",{type:"text",id:"marketing",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.marketing?a(Number(d.marketing)):"",onChange:t})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Impostos e taxas"}),e.jsx("input",{type:"text",id:"impostos",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.impostos?a(Number(d.impostos)):"",onChange:t})]}),e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Delivery e logística"}),e.jsx("input",{type:"text",id:"delivery",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.delivery?a(Number(d.delivery)):"",onChange:t})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Serviços terceirizados"}),e.jsx("input",{type:"text",id:"servicos",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.servicos?a(Number(d.servicos)):"",onChange:t})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"% Perdas/desperdícios"}),e.jsx("input",{type:"number",id:"perdas",step:"0.1",min:"0",max:"100",className:"py-2 border-2 border-[#e1e5e9] rounded-md",value:d.perdas,onChange:t})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow mb-4 p-4",children:[e.jsx("div",{className:"font-semibold text-[#CC8A3A] mb-2 flex items-center gap-2",children:"📊 Precificação"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col relative",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Preço de venda desejado"}),e.jsx("span",{className:"absolute left-3 top-9 text-[#666] text-sm",children:"R$"}),e.jsx("input",{type:"text",id:"precoVenda",inputMode:"numeric",className:"pl-8 py-2 border-2 border-[#e1e5e9] rounded-md",value:0!==d.precoVenda?a(Number(d.precoVenda)):"",onChange:t})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"text-sm font-medium text-[#666] mb-1",children:"Margem desejada (%)"}),e.jsx("input",{type:"number",id:"margemDesejada",step:"0.1",min:"0",max:"100",className:"py-2 border-2 border-[#e1e5e9] rounded-md",value:d.margemDesejada,onChange:t})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 md:p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-[#CC8A3A] mb-4 border-b-4 border-[#E17055] pb-2",children:"Resultados"}),e.jsxs("div",{className:"grid gap-4 mb-4",children:[e.jsxs("div",{className:"rounded-xl p-6 text-center text-white font-bold text-lg bg-gradient-to-r from-[#00b894] to-[#00cec9]",children:[e.jsx("div",{className:"text-3xl mb-1",id:"custoTotal",children:a(b)}),e.jsx("div",{className:"text-xs uppercase tracking-wider",children:"Custo Total por Unidade"})]}),e.jsxs("div",{className:"rounded-xl p-6 text-center text-white font-bold text-lg bg-gradient-to-r from-[#74b9ff] to-[#0984e3]",children:[e.jsx("div",{className:"text-3xl mb-1",id:"margemContribuicao",children:a(g)}),e.jsx("div",{className:"text-xs uppercase tracking-wider",children:"Margem de Contribuição"})]}),e.jsxs("div",{className:"rounded-xl p-6 text-center text-white font-bold text-lg bg-gradient-to-r "+("danger"===C("margem")?"from-[#fd79a8] to-[#e84393]":"warning"===C("margem")?"from-[#fdcb6e] to-[#e17055]":"from-[#00b894] to-[#00cec9]"),children:[e.jsxs("div",{className:"text-3xl mb-1",id:"margemBruta",children:[h.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs uppercase tracking-wider",children:"Margem Bruta"})]}),e.jsxs("div",{className:"rounded-xl p-6 text-center text-white font-bold text-lg bg-gradient-to-r "+("danger"===C("markup")?"from-[#fd79a8] to-[#e84393]":"warning"===C("markup")?"from-[#fdcb6e] to-[#e17055]":"from-[#00b894] to-[#00cec9]"),children:[e.jsxs("div",{className:"text-3xl mb-1",id:"markup",children:[j.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs uppercase tracking-wider",children:"Markup"})]})]}),e.jsxs("div",{className:"bg-[#F5E9DC] rounded-xl p-4 mb-4",children:[e.jsx("h3",{className:"font-bold text-[#CC8A3A] mb-2",children:"📊 Análise Detalhada"}),e.jsxs("div",{className:"flex justify-between py-1 border-b border-[#e9ecef] text-sm",children:[e.jsx("span",{children:"Custos Diretos (por unidade)"}),e.jsx("span",{children:a(o)})]}),e.jsxs("div",{className:"flex justify-between py-1 border-b border-[#e9ecef] text-sm",children:[e.jsx("span",{children:"Custos Indiretos (por unidade)"}),e.jsx("span",{children:a(m)})]}),e.jsxs("div",{className:"flex justify-between py-1 border-b border-[#e9ecef] text-sm",children:[e.jsx("span",{children:"Custos Administrativos (por unidade)"}),e.jsx("span",{children:a(x)})]}),e.jsxs("div",{className:"flex justify-between py-1 border-b border-[#e9ecef] text-sm",children:[e.jsx("span",{children:"Ajuste por Perdas"}),e.jsx("span",{children:a(p)})]}),e.jsxs("div",{className:"flex justify-between py-1 border-b border-[#e9ecef] text-sm",children:[e.jsx("span",{children:"Ponto de Equilíbrio (unidades/mês)"}),e.jsx("span",{children:v})]}),e.jsxs("div",{className:"flex justify-between py-1 text-sm",children:[e.jsx("span",{children:"Preço Mínimo Recomendado"}),e.jsx("span",{children:a(f)})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-[#a29bfe] to-[#6c5ce7] text-white rounded-xl p-4",children:[e.jsx("h3",{className:"font-bold mb-2",children:"💡 Recomendações"}),y.map((s,a)=>e.jsx("div",{className:"bg-white/10 p-2 rounded mb-1 border-l-4 border-white/30 text-sm",children:s},a))]})]})]})]})})},i=()=>e.jsx(d,{});export{i as default};
