import{j as e}from"./vendor-animation-jGc6Rjpy.js";import{r,f as t}from"./vendor-react-DFdqFM6t.js";let n={isLoading:!1,isReady:!1,error:null},o=null;const a=new Set,i=()=>{a.forEach(e=>e(n))},s=async()=>o||(n.isReady?Promise.resolve():(n.isLoading=!0,n.error=null,i(),o=(async()=>{try{if("undefined"!=typeof window&&window.THREE&&window.VANTA&&"function"==typeof window.VANTA.FOG)return n.isReady=!0,n.isLoading=!1,void i();if(!window.THREE){const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js",e.crossOrigin="anonymous",document.head.appendChild(e),await new Promise((r,t)=>{e.onload=()=>r(),e.onerror=()=>t(new Error("Falha ao carregar Three.js")),setTimeout(()=>t(new Error("Timeout ao carregar Three.js")),1e4)})}if(!window.VANTA||"function"!=typeof window.VANTA.FOG){const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.fog.min.js",e.crossOrigin="anonymous",document.head.appendChild(e),await new Promise((r,t)=>{e.onload=()=>r(),e.onerror=()=>t(new Error("Falha ao carregar Vanta FOG")),setTimeout(()=>t(new Error("Timeout ao carregar Vanta FOG")),1e4)})}n.isReady=!0,n.isLoading=!1,n.error=null}catch(e){n.isLoading=!1,n.error=e instanceof Error?e.message:"Erro desconhecido",o=null}i()})(),o)),c=({title:i,description:c,canonical:d,image:l,schemaMarkup:m,enableVantaPreload:p=!1,criticalImages:u=[]})=>{const{startPreload:w}=(()=>{const[e,t]=r.useState(n);return r.useEffect(()=>{const e=e=>{t({...e})};return a.add(e),()=>{a.delete(e)}},[]),{...e,startPreload:()=>{n.isLoading||n.isReady||s().catch(()=>{})},preloadPromise:o}})();return r.useEffect(()=>{p&&w()},[p,w]),e.jsxs(t,{children:[e.jsx("title",{children:i}),e.jsx("meta",{name:"description",content:c}),e.jsx("link",{rel:"canonical",href:d}),u.map((r,t)=>e.jsx("link",{rel:"preload",as:"image",href:r,fetchPriority:"high"},t)),e.jsx("meta",{property:"og:title",content:i}),e.jsx("meta",{property:"og:description",content:c}),e.jsx("meta",{property:"og:image",content:l}),e.jsx("meta",{name:"twitter:title",content:i}),e.jsx("meta",{name:"twitter:description",content:c}),e.jsx("meta",{name:"twitter:image",content:l}),m&&e.jsx("script",{type:"application/ld+json",children:JSON.stringify(m)})]})};export{c as S,s as p};
